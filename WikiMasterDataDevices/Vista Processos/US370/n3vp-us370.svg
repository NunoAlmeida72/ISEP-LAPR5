<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="743px" preserveAspectRatio="none" style="width:1030px;height:743px;background:#FFFFFF;" version="1.1" viewBox="0 0 1030 743" width="1030px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="619.2891" style="stroke:#181818;stroke-width:1.0;" width="10" x="178" y="69.9609"/><rect fill="#FFFFFF" height="558.5859" style="stroke:#181818;stroke-width:1.0;" width="10" x="374" y="100.3125"/><rect fill="#FFFFFF" height="497.8828" style="stroke:#181818;stroke-width:1.0;" width="10" x="595" y="130.6641"/><rect fill="#FFFFFF" height="32.6094" style="stroke:#181818;stroke-width:1.0;" width="10" x="741" y="292.4219"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="820" y="161.0156"/><rect fill="#FFFFFF" height="182.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="820" y="355.3828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="980" y="191.3672"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="980" y="385.7344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="980" y="476.7891"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="980" y="567.8438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="183" x2="183" y1="37.6094" y2="707.25"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="379" x2="379" y1="37.6094" y2="707.25"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="599.5" x2="599.5" y1="37.6094" y2="707.25"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="746" x2="746" y1="291.375" y2="707.25"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="825" x2="825" y1="37.6094" y2="707.25"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="984.5" x2="984.5" y1="37.6094" y2="707.25"/><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="138" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="145" y="26.5332">RobotRoute</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="138" y="706.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="145" y="727.7832">RobotRoute</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="322" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="329" y="26.5332">RobotController</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="322" y="706.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="329" y="727.7832">RobotController</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="550.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="557.5" y="26.5332">RobotService</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="550.5" y="706.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="557.5" y="727.7832">RobotService</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="720" y="706.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="727" y="727.7832">Robot</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="782" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="789" y="26.5332">RobotRepo</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="782" y="706.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="789" y="727.7832">RobotRepo</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="945.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="952.5" y="26.5332">RobotMap</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="945.5" y="706.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="952.5" y="727.7832">RobotMap</text><rect fill="#FFFFFF" height="619.2891" style="stroke:#181818;stroke-width:1.0;" width="10" x="178" y="69.9609"/><rect fill="#FFFFFF" height="558.5859" style="stroke:#181818;stroke-width:1.0;" width="10" x="374" y="100.3125"/><rect fill="#FFFFFF" height="497.8828" style="stroke:#181818;stroke-width:1.0;" width="10" x="595" y="130.6641"/><rect fill="#FFFFFF" height="32.6094" style="stroke:#181818;stroke-width:1.0;" width="10" x="741" y="292.4219"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="820" y="161.0156"/><rect fill="#FFFFFF" height="182.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="820" y="355.3828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="980" y="191.3672"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="980" y="385.7344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="980" y="476.7891"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="980" y="567.8438"/><polygon fill="#181818" points="166,65.9609,176,69.9609,166,73.9609,170,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="172" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="7" y="65.1045">Patch /robots/disable (json)</text><polygon fill="#181818" points="362,96.3125,372,100.3125,362,104.3125,366,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188" x2="368" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="195" y="95.4561">disableRobot(json)</text><polygon fill="#181818" points="583,126.6641,593,130.6641,583,134.6641,587,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="384" x2="589" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="391" y="125.8076">disableRobot(json as IRobotDTO)</text><polygon fill="#181818" points="808,157.0156,818,161.0156,808,165.0156,812,161.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="605" x2="814" y1="161.0156" y2="161.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="612" y="156.1592">findByDomainId(robotId)</text><polygon fill="#181818" points="968,187.3672,978,191.3672,968,195.3672,972,191.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="830" x2="974" y1="191.3672" y2="191.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="837" y="186.5107">Map2Model(robotData)</text><polygon fill="#181818" points="841,217.7188,831,221.7188,841,225.7188,837,221.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="835" x2="984" y1="221.7188" y2="221.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="847" y="216.8623">robot</text><polygon fill="#181818" points="616,248.0703,606,252.0703,616,256.0703,612,252.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="610" x2="824" y1="252.0703" y2="252.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="622" y="247.2139">robot</text><polygon fill="#181818" points="708,278.4219,718,282.4219,708,286.4219,712,282.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="605" x2="714" y1="282.4219" y2="282.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="612" y="277.5654">setStatus(false)</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="720" y="260.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="727" y="281.6035">Robot</text><polygon fill="#181818" points="616,321.0313,606,325.0313,616,329.0313,612,325.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="610" x2="745" y1="325.0313" y2="325.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="622" y="320.1748">robot</text><polygon fill="#181818" points="808,351.3828,818,355.3828,808,359.3828,812,355.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="605" x2="814" y1="355.3828" y2="355.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="612" y="350.5264">save(robot)</text><polygon fill="#181818" points="968,381.7344,978,385.7344,968,389.7344,972,385.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="830" x2="974" y1="385.7344" y2="385.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="837" y="380.8779">Map2Data(robot)</text><polygon fill="#181818" points="841,412.0859,831,416.0859,841,420.0859,837,416.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="835" x2="984" y1="416.0859" y2="416.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="847" y="411.2295">robotData</text><polygon fill="#181818" points="1017.5,442.4375,1027.5,446.4375,1017.5,450.4375,1021.5,446.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="830" x2="1023.5" y1="446.4375" y2="446.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="837" y="441.5811">save(robotData)</text><polygon fill="#181818" points="968,472.7891,978,476.7891,968,480.7891,972,476.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="830" x2="974" y1="476.7891" y2="476.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="837" y="471.9326">Map2Model(robotData)</text><polygon fill="#181818" points="841,503.1406,831,507.1406,841,511.1406,837,507.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="835" x2="984" y1="507.1406" y2="507.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="847" y="502.2842">robot1</text><polygon fill="#181818" points="616,533.4922,606,537.4922,616,541.4922,612,537.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="610" x2="824" y1="537.4922" y2="537.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="622" y="532.6357">robot1</text><polygon fill="#181818" points="968,563.8438,978,567.8438,968,571.8438,972,567.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="605" x2="974" y1="567.8438" y2="567.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="612" y="562.9873">Map2DTO(robot1)</text><polygon fill="#181818" points="616,594.1953,606,598.1953,616,602.1953,612,598.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="610" x2="984" y1="598.1953" y2="598.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="622" y="593.3389">robot1DTO</text><polygon fill="#181818" points="395,624.5469,385,628.5469,395,632.5469,391,628.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="389" x2="599" y1="628.5469" y2="628.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="401" y="623.6904">robot1DTO</text><polygon fill="#181818" points="199,654.8984,189,658.8984,199,662.8984,195,658.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="193" x2="378" y1="658.8984" y2="658.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="205" y="654.042">response(robotDTO as json)</text><polygon fill="#181818" points="11,685.25,1,689.25,11,693.25,7,689.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="182" y1="689.25" y2="689.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="17" y="684.3936">response</text><!--MD5=[315650c2eacd388688b6480cf7e60e12]
@startuml
'http://plantuml.com/skinparam.html
skinparam monochrome true
skinparam packageStyle rect
skinparam shadowing false


participant RobotRoute  as route
participant RobotController as controller
participant RobotService as service
participant Robot as domain
participant RobotRepo as repo
participant RobotMap as mapper

-> route: Patch /robots/disable (json)
activate route
route -> controller: disableRobot(json)
activate controller
    controller -> service: disableRobot(json as IRobotDTO)
    activate service
    service -> repo: findByDomainId(robotId)
    activate repo
    repo -> mapper: Map2Model(robotData)
    activate mapper
    mapper - -> repo: robot
    deactivate
    repo - -> service: robot
    deactivate
    service -> domain**: setStatus(false)
    activate domain
    domain - -> service:robot
    deactivate
    service -> repo: save(robot)
    activate repo
    repo -> mapper: Map2Data(robot)
    activate mapper
    mapper - -> repo: robotData
    deactivate
    repo -> : save(robotData)
    repo -> mapper: Map2Model(robotData)     
    activate mapper
    mapper - -> repo: robot1
    deactivate
    repo - -> service: robot1
    deactivate
    service -> mapper: Map2DTO(robot1)
    activate mapper
    mapper- -> service: robot1DTO
    deactivate
    service - -> controller: robot1DTO
    deactivate
    controller - -> route: response(robotDTO as json)
    deactivate
    <- - route: response
    deactivate
    
@enduml

@startuml
skinparam monochrome true
skinparam packageStyle rect
skinparam shadowing false


participant RobotRoute  as route
participant RobotController as controller
participant RobotService as service
participant Robot as domain
participant RobotRepo as repo
participant RobotMap as mapper

-> route: Patch /robots/disable (json)
activate route
route -> controller: disableRobot(json)
activate controller
    controller -> service: disableRobot(json as IRobotDTO)
    activate service
    service -> repo: findByDomainId(robotId)
    activate repo
    repo -> mapper: Map2Model(robotData)
    activate mapper
    mapper - -> repo: robot
    deactivate
    repo - -> service: robot
    deactivate
    service -> domain**: setStatus(false)
    activate domain
    domain - -> service:robot
    deactivate
    service -> repo: save(robot)
    activate repo
    repo -> mapper: Map2Data(robot)
    activate mapper
    mapper - -> repo: robotData
    deactivate
    repo -> : save(robotData)
    repo -> mapper: Map2Model(robotData)     
    activate mapper
    mapper - -> repo: robot1
    deactivate
    repo - -> service: robot1
    deactivate
    service -> mapper: Map2DTO(robot1)
    activate mapper
    mapper- -> service: robot1DTO
    deactivate
    service - -> controller: robot1DTO
    deactivate
    controller - -> route: response(robotDTO as json)
    deactivate
    <- - route: response
    deactivate
    
@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>